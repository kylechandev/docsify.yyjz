# 备份恢复

<font color=gray>备份与还原应用的所有数据</font>

## 这很重要

!> 请务必使用该功能，数据无价，认真对待自己的数据！

> [最新版本下载(Android)](https://www.coolapk.com/apk/247977)

## 本地备份（Android）

### 应用私有目录（Android）

由于从Android10开始的限制，为了更好的保护用户的隐私，应用无法直接访问除`应用私有目录`外的任何文件，所以备份文件默认会存放在`应用私有目录`，即`Android/data/data/kylec.me.lightbookkeeping`文件夹下。

!> **请格外注意**，应用私有目录下的文件将在`清除应用数据`或`卸载应用`时同时被删除！若你**自己不愿意**使用云备份，请务必注意妥善保管这些备份文件。

从Android11开始，手机用户无法直接访问`Android/data`下的文件了，不过部分手机支持跳转到安卓存储访问框架来查看。对于此现象，你可以参考使用下面的方案作为代替：

### 授权目录（Android）

为了更好的管理本地备份文件，你可以选择授权一个目录给一羽记账使用。

在备份与恢复界面，点击页面列表中的`存放目录`，将会打开系统的目录选择界面，然后你可以选择一个目录（建议新建一个专门的目录给一羽记账）并授权给一羽记账，之后的备份文件就会保存到该目录中了。

?> 保存在授权目录中的文件，会持久的存储在你的设备中，即使清除应用数据或卸载。<br>当你重装一羽记账App后，只需重新将该目录授权给一羽记账，即可恢复之前的备份数据。

## WebDAV云备份（推荐🍓） :id=cloud-backup

> 推荐使用国内的[坚果云云盘](https://www.jianguoyun.com/)

> [**一羽记账&坚果云WebDAV配置教程**](/doc/data-manage/jianguoyun.md)

将数据备份上传到个人的支持WebDAV协议的云盘，国内目前好像只有[坚果云网盘](https://www.jianguoyun.com/)支持WebDAV协议。

搭配[**一羽记账&坚果云WebDAV配置教程**](/doc/data-manage/jianguoyun.md)，3步骤，1分钟配置。

同时国外有一个支持WebDAV协议的云盘[TeraCLOUD](https://teracloud.jp/en/)，有需要的可以到官网注册使用，免费10GB的空间。

如果之前没有接触过WebDAV备份的，也许会觉得这很麻烦，但是使用WebDAV云盘备份，所有的数据都只经过自己，安全性可谓最高了，只是便捷性略差那么一点。所以，就当是以便捷性换取绝对的安全吧~

将WebDAV云盘链接到一羽记账，需要输入：

- **WebDAV Url**
- **授权账户**
- **授权密码**

!> 输入授权密码时，请不要输入坚果云的账号密码，而要输入在[**坚果云**](http://help.jianguoyun.com/?p=2064)中为一羽记账创建的独立的**应用密码**。 <br><br>（或者是使用的其他支持WebDAV的云盘，如果你使用的云盘不用单独创建应用，那么可以输入云盘账号密码）

### 自动云备份策略  :id=cloud-backup-strategy

从[**Android v4.0**](https://www.coolapk.com/apk/kylec.me.lightbookkeeping)版本开始，支持设置自动云备份策略。<font color=orange>（此功能为Pro功能）</font>

从[**Android v6.0.9(3)**](https://www.coolapk.com/apk/kylec.me.lightbookkeeping)版本开始，**已移除此功能**。

!> 开启自动云备份策略后，<br>只有`据上一次备份的时间间隔，数据操作次数，据上一次App启动时间`在满足策略条件后才真正执行备份文件上传。<br>策略开启后，不是每次打开应用都会进行云备份。所以，在极端情况下，可能存在部分数据没来得及进行备份，但最多不超过8条账单。所以请根据自身使用情况来决定是否需要开启策略。

## 恢复备份

`本地备份`和`WebDAV云备份`，成功恢复备份后都需要重启一羽记账App才能使数据生效（恢复成功会自动重启）。

## 应用内删除备份文件

在备份文件列表中，长按需要删除的备份文件。

## 分享备份文件（Android）

在本地备份文件列表中，点击最右侧的分享按钮，即可跳转分享。

> 分享仅适用于本地备份文件<br>
> 因为App私有目录下的备份文件存储在系统文件管理器中，可能获取不是很方便，分享备份文件可以帮助大家更方便的拿到本地备份文件。

## 重要申明

**一羽记账非常重视数据的保存**，已在「个人中心界面」「备份与恢复操作过程」「登录注册界面」都警示了备份的重要性，并详细解释了各类备份的形式。如果再因`个人操作失误`或`不备份`等导致的数据丢失问题，一羽记账可不负责了哦！

看到这里，十分感谢你的理解！

最后，建议你务必使用[云备份](#cloud-backup)，因为数据无价啊！